---
converted: '2025-10-25'
source: AlgorithmforDecisionMaking.pdf
title: ) =
---

# ) =

_Source page: 185_



, where


arg min


. Figure 8.1 shows an example of a value function represented


1:


Figure 8.1. Approximating the val-


using the nearest neighbor scheme.


ues of states in a two-dimensional,


continuous state space using the


We can generalize this approach to average together the values of the


-nearest


mean of the utility values of their


neighbors


. This approach still results in piecewise constant value functions, but


-nearest neighbors according to


Euclidean distance. The resulting


different values for


can result in better approximations. Figure 8.1 shows exam-


value function is piecewise con-


ples of value functions approximated with different values for


. Algorithm 8.2


stant.


provides an implementation of this.


© 2022 Massachusetts Institute of Technology, shared under a Creative Commons CC-BY-NC-ND license.


2025-09-21 10:49:56-07:00, comments to bugs@algorithmsbook.com


164


chapter 8. approximate value functions


Algorithm 8.2.


The


-nearest


mutable struct


NearestNeighborValueFunction


neighbors method, which approxi-


# number of neighbors


mates the value of a state


based


# distance function d(s, s′)


on the


closest states in


, as deter-


# set of discrete states


mined by a distance function


. The


# vector of values at states in S


vector


contains the values of the


end


states in


. Greater efficiency can be


function


Uθ


::


NearestNeighborValueFunction


)(


achieved by using specialized data


dists


Uθ


s′


for


s′


in


Uθ


structures, such as


d-trees, imple-


ind


sortperm


dists


)[


Uθ


mented in


NearestNeighbors.jl


return


mean


Uθ


for


in


ind


end


function


fit!


Uθ


::


NearestNeighborValueFunction


Uθ


return


Uθ


end